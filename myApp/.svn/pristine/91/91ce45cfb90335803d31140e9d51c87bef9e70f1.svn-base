webpackJsonp([38],{"8zTv":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"warpper-black-4 wb100",style:"min-height: "+e.myHeight+"px;",attrs:{id:"pay_page"}},[s("loader",{attrs:{show:e.fullscreenLoading}}),e._v(" "),s("navTitle",{attrs:{title:"支付",back:!0}}),e._v(" "),s("div",{staticClass:"wb100 "},[s("div",{staticClass:"wb100"},[1==e.ticket.length?[s("div",{staticClass:"pa15"},[s("p",[s("span",{staticClass:"pal10 par10 h30px lh30px warpper-white-3 Fwhite-1 fl"},[e._v("单关")]),e._v(" "),s("span",{staticClass:"fl Fwhite-1 h30px lh30px mal15 F18"},[e._v(e._s(e.ticket[0].hTeam)+" VS "+e._s(e.ticket[0].vTeam))])]),e._v(" "),s("div",{staticClass:"clear"}),e._v(" "),s("p",{staticClass:"Fwhite-1 lh40px F14"},[e._v("\n            投注内容：\n            "),e._l(e.ticket[0].selectData,function(t,s){return["FT006"==t.type?[e._v("让球")]:e._e(),s==e.ticket[0].selectData.length-1?[e._v(e._s(t.val))]:[e._v(e._s(t.val)+"，")]]})],2)])]:[s("div",{staticClass:"pa15"},[s("p",{staticClass:"lh35px h35px relative text-over-hidden1 Fwhite-1",staticStyle:{"padding-left":"65px"}},[s("span",{staticClass:"fl warpper-orange-2 pal10 par10 h25px lh25px mat5 mar10 radius4 absolute",staticStyle:{top:"0",left:"0"}},[e._v(e._s(e.ticket.length)+"串1")]),e._v(" "),e._l(e.ticket,function(t){return[e._v(e._s(t.hTeam)+" VS "+e._s(t.vTeam)+" ")]})],2)])],e._v(" "),s("div",{staticClass:"pal15 Fblack-2 warpper-black-3 lh45px"},[s("p",{staticClass:"par15 h45px"},[s("span",{staticClass:"fl"},[e._v("订单金额")]),e._v(" "),s("span",{staticClass:"fr Fnum Fwhite-1"},[e._v(e._s(e.money)+"元")])]),e._v(" "),s("div",{staticClass:"clear bor-black2 bor-solid-1b"}),e._v(" "),s("p",{staticClass:"par15 h45px"},[s("span",{staticClass:"fl"},[e._v("余额抵扣")]),e._v(" "),s("span",{staticClass:"fr Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.user.accountBalance))+"元")])]),e._v(" "),s("div",{staticClass:"clear"})]),e._v(" "),s("div",{staticClass:"clear1"}),e._v(" "),s("div",{staticClass:"pal15 par15 lh45px h45px Fblack-2 warpper-black-3"},[s("span",{staticClass:"fl"},[e._v("应付")]),e._v(" "),s("span",{staticClass:"fr Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.money-e.user.accountBalance))+"元")])]),e._v(" "),s("div",{staticClass:"clear1 "})],2),e._v(" "),s("div",{staticClass:"pa15 "},[s("div",{staticClass:"wb100 warpper-orange-2 Fwhite h45px lh45px text-center radius5 F16",on:{click:function(t){e.pay("wx")}}},[e._v("\n        微信支付\n      ")])])])],1)},i=[],r={render:a,staticRenderFns:i};t.a=r},YWiM:function(e,t,s){var a=s("fH1x");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("8bSs")("14026560",a,!0)},fH1x:function(e,t,s){t=e.exports=s("BkJT")(!0),t.push([e.i,".el-radio__input.is-checked .el-radio__inner{border-color:#ee542c;background:#ee542c}.el-radio__inner:hover,.el-radio__input.is-focus .el-radio__inner{border-color:#ee542c}","",{version:3,sources:["E:/bgsystem/ticket_node/src/views/Pay/WxPay.vue"],names:[],mappings:"AACA,6CAA6C,qBAAsB,kBAAoB,CACtF,AAGD,kEAA2C,oBAAsB,CAChE",file:"WxPay.vue",sourcesContent:["\n.el-radio__input.is-checked .el-radio__inner{border-color: #ee542c;background: #ee542c;\n}\n.el-radio__inner:hover{border-color: #ee542c;\n}\n.el-radio__input.is-focus .el-radio__inner{border-color: #ee542c;\n}\n\n"],sourceRoot:""}])},s1Su:function(e,t,s){"use strict";function a(e){s("YWiM")}Object.defineProperty(t,"__esModule",{value:!0});var i=s("xhsr"),r=s.n(i),n=s("8zTv"),l=s("46Yf"),c=a,o=l(r.a,n.a,!1,c,null,null);t.default=o.exports},xhsr:function(e,t,s){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s("3cXf"),r=a(i),n=s("1+AF"),l=a(n),c=s("Ra4H"),o=a(c);t.default={data:function(){return{fullscreenLoading:!0,showResult:!1,login:!1,myHeight:0,ticket:[],money:0,tradeNo:0,user:{}}},methods:{init:function(){var e=this,t=window.sessionStorage.getItem("soccer_ticket");if(o.default.userBaseInfo(function(t){t&&(l.default.isNull(t.returnJSON)||(e.user=t.returnJSON,l.default.setCookie("userInfo",(0,r.default)(t.returnJSON))))}),l.default.isNull(t))return this.ticket=[],this.fullscreenLoading=!1,this.$message({type:"error",message:"没有找到未支付的订单"}),!1;if(t=JSON.parse(t),console.log(t),this.ticket=[],l.default.isNull(t)||0==t.length)return this.fullscreenLoading=!1,this.$message({type:"error",message:"没有找到未支付的订单"}),!1;this.ticket=t,this.sessionNum=t.length;var s=[],a=8;if(0==this.playIndex)for(var i=0;i<this.ticket.length;i++)for(var n=0;n<this.ticket[i].selectData.length;n++){var c=this.ticket[i].selectData[n];"FT002"!=c.type&&"FT004"!=c.type||(a=4),"FT003"==c.type&&a>=6&&(a=6)}else 1==this.playIndex||2==this.playIndex?a=8:3==this.playIndex?a=4:4==this.playIndex?a=6:5==this.playIndex&&(a=4);this.ticket.length<=a&&(a=this.ticket.length);for(var u=2;u<=a;u++)s.push({val:u,isSelected:!1});this.soccerGroup=s,this.soccerGroup[this.soccerGroup.length-1].isSelected=!0,this.ticket.length>0&&(this.lock=!1,this.fullscreenLoading=!1)},pay:function(){var e=this;if(0==e.login)return e.$router.push({name:"Login",params:{call:!0}}),!1;var t=this.twoDecimal(this.money-this.user.accountBalance);_czc.push(["_setAccount","1271278320"]),_czc.push(["_trackEvent","WxPay_WxPay","submit","发起微信公众号支付",Math.floor(100*t),"WxPay_WxPay"]),o.default.wxJsPay(Math.floor(100*t),1,this.tradeNo,"投注余额支付",function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.returnJSON),function(t){"get_brand_wcpay_request:ok"==t.err_msg?e.$router.push({name:"PaySuccess"}):"get_brand_wcpay_request:cancel"==t.err_msg?(e.$message({type:"error",message:"支付取消",duration:1500}),e.isLock=!1):(e.$message({type:"error",message:"支付失败",duration:1500}),e.isLock=!1)})})},twoDecimal:function(e){var t=parseFloat(e);if(isNaN(t))return!1;var t=Math.round(100*e)/100,s=t.toString(),a=s.indexOf(".");for(a<0&&(a=s.length,s+=".");s.length<=a+2;)s+="0";return s}},mounted:function(){var t=this;_czc.push(["_setAccount","1271278320"]),_czc.push(["_trackEvent","WxPay_page","onInit","微信公众号支付页","inited","WxPay_init"]),this.myHeight=e(window).height(),o.default.userInfo(function(e){e?l.default.isNull(e.returnJSON)?t.login=!1:(t.login=!0,t.user=e.returnJSON):t.login=!1,t.fullscreenLoading=!1}),this.money=this.$route.query.money,this.tradeNo=this.$route.query.tradeNo,this.init()}}}).call(t,s("fu2u"))}});
//# sourceMappingURL=38.10dba95962a46f4ca38c.js.map