webpackJsonp([32],{"0Bwi":function(e,s,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0});var i=t("gUGA"),n=a(i),r=t("1+AF"),l=a(r),o=t("Ra4H"),u=a(o),c=t("xyNO"),d=a(c);s.default={data:function(){return{fullscreenLoading:!0,login:!1,isFav:!1,newsUserID:"",user:{},userHead:d.default,newsUser:{},newsList:[],current:0,page:0,pageSize:20,totleCount:0,loading:!0,empty:!1,last:!1,totle:0,favDisabled:!1}},methods:{twoDecimal:function(e){var s=parseFloat(e);if(isNaN(s))return!1;var s=Math.round(100*e)/100,t=s.toString(),a=t.indexOf(".");for(a<0&&(a=t.length,t+=".");t.length<=a+2;)t+="0";return t},getRatio:function(e){for(var s=0,t=0;t<e.length;t++)0==s?s=e[t].lossRatio:s*=e[t].lossRatio;return[this.twoDecimal(s),(0,n.default)(100*this.twoDecimal(s))]},favUser:function(){var e=this;if(0==e.login)return void e.$router.push({name:"Login",params:{call:!0}});e.favDisabled||(1==e.isFav?u.default.cancelFocusUser(e.newsUser.uuid,function(s,t){s?(e.$message({type:"success",message:"取消关注成功",duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500),e.isFav=!e.isFav):(e.$message({type:"error",message:t,duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500))}):u.default.focusUser(e.newsUser.uuid,function(s,t){s?(e.$message({type:"success",message:"关注成功",duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500),e.isFav=!e.isFav):(e.$message({type:"error",message:t,duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500))}))},getData:function(){var e=this;if(e.loading=!0,e.last||e.empty)return e.loading=!1,void(0==e.page&&setTimeout(function(){e.fullscreenLoading=!1,window.scrollTo(0,1)},100));e.page++,u.default.newsListByUser(e.page,e.pageSize,e.newsUserID,function(s){if(s){var t=s.returnJSON.indexData;e.totle=s.returnJSON.totalResult,e.totleCount=s.returnJSON.totalResult,0==s.returnJSON.indexData.length?e.empty=!0:s.returnJSON.indexData.length<e.pageSize&&(e.empty=!1,e.last=!0),e.newsList=e.newsList.concat(t),e.loading=!1}else e.empty=!0;1==e.page&&setTimeout(function(){e.fullscreenLoading=!1,window.scrollTo(0,1)},100)})}},mounted:function(){var e=this,s=this.$route.params.newsUserID;if(l.default.isNull(s))return e.$message({type:"error",message:"缺少达人ID",duration:1500}),setTimeout(function(){e.fullscreenLoading=!1,window.scrollTo(0,1)},100),!1;e.newsUserID=s,u.default.newsUserInfo(s,function(s){if(s){e.newsUser=s.returnJSON;var t=s.extendInfo;l.default.isNull(t)?e.isFav=!1:e.isFav=!0,console.log(e.newsUser)}}),e.getData(),u.default.userInfo(function(s){var t=s.returnJSON;l.default.isNull(t)?e.login=!1:(e.user=t,e.login=!0)})}}},IfqT:function(e,s,t){"use strict";var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"warpper-black-4",attrs:{id:"expert_detail_page"}},[t("loader",{attrs:{show:e.fullscreenLoading}}),e._v(" "),t("navTitle",{attrs:{title:e.newsUser.nickName,back:!0}}),e._v(" "),t("div",{staticClass:"wb100"},[t("div",{staticClass:"wb100"},[t("div",{staticClass:"clear1"}),e._v(" "),t("div",{staticClass:"wb100 relative"},[t("div",{staticStyle:{"padding-left":"74px"}},[t("img",{staticClass:"fl h70px w70px radius50per bor-white bor-solid-2a absolute",staticStyle:{left:"15px",top:"0"},attrs:{src:e.newsUser.photoUrl?e.newsUser.photoUrl:e.userHead}}),e._v(" "),t("div",{staticClass:"Fwhite fl mal15"},[t("p",{staticClass:"F18 lh30px pal15 Fgray-5"},[e._v(e._s(e.newsUser.nickName))]),e._v(" "),t("p",{staticClass:"F14 Fgray-6 lh20px pal15"},[e._v(e._s(e.newsUser.customSigna?e.newsUser.customSigna:"暂无签名"))]),e._v(" "),t("p",{staticClass:"F14 Fgray-6 lh20px pal15 Fnum"},[e._v("粉丝："+e._s(e.newsUser.fansQty))])]),e._v(" "),e.newsUser.uuid!=e.user.uuid?[t("div",{staticClass:"w60px text-center absolute h35px lh35px F14 radius20 pointer",class:e.isFav?"Forange-2 bor-orange4 bor-solid-1a":"warpper-orange-7 Fwhite pa1",staticStyle:{right:"15px",top:"15px"},on:{click:e.favUser}},[e.isFav?t("span",[e._v("已关注")]):t("span",[e._v("+关注")])])]:e._e()],2),e._v(" "),t("div",{staticClass:"clear"})]),e._v(" "),t("div",{staticClass:"clear1"})]),e._v(" "),t("div",{staticClass:"wb100 warpper-black-3 Fgray-5 text-center"},[t("div",{staticClass:"lh25px pat15 pab15"},[t("div",{staticClass:"wb33333 fl"},[t("p",{staticClass:"Fnum"},[e._v(e._s(e.totle)+"场")]),e._v(" "),t("p",{staticClass:"Fgray-6 F14"},[e._v("总推荐")])]),e._v(" "),t("div",{staticClass:"wb33333 fl"},[t("div",{staticClass:"wb100 h50px lh25px bor-black3 bor-solid-1l bor-solid-1r"},[e.newsUser.tenDaysCount>0?t("p",[e._v("近10中"+e._s(e.newsUser.tenDaysCount))]):t("p",[e._v("——")]),e._v(" "),t("p",{staticClass:"Fgray-6 F14"},[e._v("近期状态")])])]),e._v(" "),t("div",{staticClass:"wb33333 fl"},[e.newsUser.maxSuccessionCount>0?t("p",[e._v(e._s(e.newsUser.maxSuccessionCount)+"连红")]):t("p",[e._v("——")]),e._v(" "),t("p",{staticClass:"Fgray-6 F14"},[e._v("最高战绩")])]),e._v(" "),t("div",{staticClass:"clear"})])]),e._v(" "),t("div",{staticClass:"clear1"}),e._v(" "),t("div",{staticClass:"wb100 Fgray-5"},[t("div",{staticClass:"clear"}),e._v(" "),t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.getData,expression:"getData"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"5"}},[t("expertList",{attrs:{list:e.newsList,pagelist:!0,loading:e.loading,last:e.last,theme:"dark",expert:e.newsUser}})],1)])])],1)},i=[],n={render:a,staticRenderFns:i};s.a=n},WAef:function(e,s,t){s=e.exports=t("BkJT")(!0),s.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ExpertDetail.vue",sourceRoot:""}])},f7eC:function(e,s,t){var a=t("WAef");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("8bSs")("ff77068e",a,!0)},j8Gk:function(e,s,t){"use strict";function a(e){t("f7eC")}Object.defineProperty(s,"__esModule",{value:!0});var i=t("0Bwi"),n=t.n(i),r=t("IfqT"),l=t("o7Pn"),o=a,u=l(n.a,r.a,o,null,null);s.default=u.exports}});
//# sourceMappingURL=32.1d0cfd517fecfa3775ec.js.map