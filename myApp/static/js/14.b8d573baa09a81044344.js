webpackJsonp([14],{"/nb2":function(t,a,s){a=t.exports=s("BkJT")(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"StoreDetail.vue",sourceRoot:""}])},"8j+i":function(t,a,s){t.exports=s.p+"static/img/zt.7be6eca.png"},ArWT:function(t,a,s){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var i=s("1+AF"),r=e(i),n=s("Ra4H"),o=e(n),l=s("OuMC"),c=e(l);a.default={data:function(){return{fullscreenLoading:!0,data:{},login:!1,address:!1,page:1,pageSize:20,addressID:"",showBuySuccess:!1,ordernum:"",bigtype:"",rotateTimer:0,angle:0,username:"",telephone:"",location:"",favDisabled:!1,goodsNum:""}},methods:{getData:function(){var t=this,a=this.$route.params.id;o.default.detail(a,function(a){t.data=a.data,t.goodsNum=a.data.num,t.fullscreenLoading=!1})},closeBuySuccess:function(){this.showBuySuccess=!1,window.clearInterval(this.rotateTimer)},rotation:function(){var t=this;window.clearInterval(t.rotateTimer),t.rotateTimer=setInterval(function(){t.angle+=3},50)},exchange:function(){var a=this;if(r.default.versions.isAndroidApp||r.default.versions.isIosApp)1==this.login?hostsdk.getUser({successCallback:function(s){s=JSON.parse(s),a.coinsQty=s.coinsQty,a.coinsQty<a.data.virtualprice?t("#dialog1").show(0):t("#dialog").show(0)},errorCallback:function(t){hostsdk.login({successCallback:function(t){},errorCallback:function(t){}})}}):hostsdk.login({successCallback:function(t){},errorCallback:function(t){}});else{if(1!=this.login)return this.$router.push({name:"Login",params:{call:!0}}),!1;a.user.coinsQty<a.data.virtualprice?t("#dialog1").show(0):t("#dialog").show(0)}},guess:function(){var t=this;r.default.versions.isAndroidApp||r.default.versions.isIosApp?hostsdk.openUrl({type:"push",url:"PushHostGuess",errorCallback:function(t){}}):t.$router.push({name:"Index"})},cancel:function(){t("#dialog").hide(0),t("#dialog1").hide(0)},submitOrder:function(a){var s=this;if(!s.favDisabled)return 2==s.data.bigtype&&0==s.address?(s.$router.push({name:"StoreAddOrderAddress",params:{goodsid:a.id}}),!1):void(1==s.data.bigtype?o.default.createOrder(a.id,s.username,s.telephone,s.location,function(a,e){a?(s.showBuySuccess=!0,s.ordernum=a.data.ordernum,s.bigtype=a.data.bigtype,s.rotation(),t("#dialog").hide(0)):(s.$message({type:"error",message:e,duration:1500}),s.favDisabled=!0,setTimeout(function(){s.favDisabled=!1},1500))}):s.$router.replace({name:"StoreOrderAddress",params:{goodsid:a.id}}))}},mounted:function(){var a=this;t("#dialog").hide(0),t("#dialog1").hide(0),r.default.versions.isAndroidApp||r.default.versions.isIosApp?c.default.inited(function(t,s){o.default.addressList(a.page,a.pageSize,function(t){var s=t.returnJSON.indexData;if(0==s.length)return a.address=!1,!1;a.address=!0;for(var e=0;e<s.length;e++)if(1==s[e].isDefault){a.addressID=s[e].addressID,a.username=s[e].recipients,a.telephone=s[e].mobilePhone,a.location=s[e].address;break}}),a.getData(),hostsdk.setLeftIcon({params:"custom",icon:"https://mp.bombsport.com/source/back.png",text:"",successCallback:function(t){},errorCallback:function(t){},leftClicked:function(t){a.$router.go(-1)}}),t.uuid?a.login=!0:a.login=!1}):o.default.userInfo(function(t){var s=t.returnJSON;a.getData(),r.default.isNull(s)?a.login=!1:(a.user=s,a.login=!0,o.default.addressList(a.page,a.pageSize,function(t){var s=t.returnJSON.indexData;if(0==s.length)return a.address=!1,!1;a.address=!0;for(var e=0;e<s.length;e++)if(1==s[e].isDefault){a.addressID=s[e].addressID,a.username=s[e].recipients,a.telephone=s[e].mobilePhone,a.location=s[e].address;break}}))}),a.showBuySuccess=!1}}}).call(a,s("fu2u"))},ERRH:function(t,a,s){t.exports=s.p+"static/img/gx.aa5ec8a.png"},Zqeh:function(t,a,s){var e=s("/nb2");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);s("8bSs")("74d92b36",e,!0)},fK7i:function(t,a,s){"use strict";function e(t){s("Zqeh")}Object.defineProperty(a,"__esModule",{value:!0});var i=s("ArWT"),r=s.n(i),n=s("p8Pc"),o=s("o7Pn"),l=e,c=o(r.a,n.a,l,null,null);a.default=c.exports},p8Pc:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"warpper-black-4",attrs:{id:"store_detail_page"}},[e("loader",{attrs:{show:t.fullscreenLoading}}),t._v(" "),e("navTitle",{attrs:{title:t.data.name,back:!0}}),t._v(" "),e("div",{staticClass:"wb100"},[e("div",{staticClass:"wb100 img-area "},[e("div",{staticClass:"img-area  center"},[e("img",{attrs:{src:t.data.headerimg}})])]),t._v(" "),e("div",{staticClass:"clear1 warpper-black-3"}),t._v(" "),e("div",{staticClass:"warpper-black-3"},[e("p",{staticClass:"F16 text-over-hidden1 Fgray-5 pal15 Fnum"},[t._v(t._s(t.data.name))]),t._v(" "),e("div",{staticClass:"clear h5px"}),t._v(" "),e("p",{staticClass:"F16 text-over-hidden1 Forange-2 pal15 "},[e("span",{staticClass:"Fnum"},[t._v(t._s(t.data.virtualprice))]),t._v(" "),e("span",{staticClass:"Forange-2 F14"},[t._v("金币")])])]),t._v(" "),e("div",{staticClass:"clear1 warpper-black-3"}),t._v(" "),e("div",{staticClass:"clear1"}),t._v(" "),e("div",{staticClass:"pa15 img-area warpper-black-3"},[e("p",{staticClass:"Fgray-5"},[t._v("商品介绍")]),t._v(" "),e("div",{staticClass:"clear1 "}),t._v(" "),e("div",{domProps:{innerHTML:t._s(t.data.content)}})]),t._v(" "),e("div",{staticClass:"clear h45px warpper-black-3"}),t._v(" "),0==t.goodsNum?e("div",{staticClass:"fixed wb100",staticStyle:{bottom:"0"}},[t._m(0)]):e("div",{staticClass:"fixed wb100",staticStyle:{bottom:"0"},on:{click:t.exchange}},[e("div",{staticClass:"wb100 "},[e("div",{staticClass:"wb100 Fwhite h45px lh45px text-center warpper-orange-7"},[e("span",{staticClass:"Fnum"},[t._v(t._s(t.data.virtualprice))]),t._v("金币抽奖\n        ")])])]),t._v(" "),e("div",{staticClass:"wb100",staticStyle:{display:"none"},attrs:{id:"dialog"}},[e("div",{staticClass:"dialogBg"}),t._v(" "),e("div",{staticClass:"wb100 fixed",staticStyle:{bottom:"50%","z-index":"99"}},[e("div",{staticClass:" warpper-white radius5 wb70 center "},[e("div",{staticClass:"wb100 h150px"},[e("div",{staticClass:"text-center"},[e("p",{staticClass:"lh60px h60px"},[t._v("抽奖"+t._s(t.data.name))]),t._v(" "),e("p",{staticClass:"F14 Fgray-3 bor-solid-1b bor-gray  h40px"},[t._v("需花费"),e("span",{staticClass:"Forange-2 Fnum"},[t._v(t._s(t.data.virtualprice))]),t._v("金币\n              ")]),t._v(" "),e("p",{staticClass:"lh50px h50px"},[e("span",{staticClass:"fl  wb50 bor-solid-1r bor-gray ",staticStyle:{height:"49px"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"fr  wb49 Forange-2",on:{click:function(a){t.submitOrder(t.data)}}},[t._v("确定")])])])])])])]),t._v(" "),e("div",{staticClass:"wb100",staticStyle:{display:"none"},attrs:{id:"dialog1"}},[e("div",{staticClass:"dialogBg"}),t._v(" "),e("div",{staticClass:"wb100 fixed",staticStyle:{bottom:"50%","z-index":"99"}},[e("div",{staticClass:" warpper-white radius5 wb70 center "},[e("div",{staticClass:"wb100 h150px"},[e("div",{staticClass:"text-center"},[e("p",{staticClass:"lh60px h60px"},[t._v("您的余额不足")]),t._v(" "),e("p",{staticClass:"F14 Fgray-3 bor-solid-1b bor-gray  h40px"},[t._v("快去竞猜赢金币吧~")]),t._v(" "),e("p",{staticClass:"lh50px h50px"},[e("span",{staticClass:"fl  wb50 bor-solid-1r bor-gray ",staticStyle:{height:"49px"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("span",{staticClass:"fr  wb49 Forange-2",on:{click:t.guess}},[t._v("去竞猜")])])])])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showBuySuccess,expression:"showBuySuccess == true"}],staticClass:"dialogBg",staticStyle:{"z-index":"99",background:"rgba(0,0,0,.7)"},on:{click:t.closeBuySuccess}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showBuySuccess,expression:"showBuySuccess == true"}],staticClass:"w270px h250px fixed Fwhite F16 text-center",staticStyle:{top:"0",right:"0",left:"0",bottom:"0",margin:"auto","z-index":"999"}},[e("img",{staticClass:"w130px absolute",staticStyle:{top:"0",left:"0",right:"0",margin:"0 auto","z-index":"99999",width:"134px"},attrs:{src:s("8j+i")}}),t._v(" "),e("img",{staticClass:"w270px rotater absolute",style:"top: -77px; left: -7px; z-index: 9999;transform:rotate("+t.angle+"deg);",attrs:{src:s("ERRH")}}),t._v(" "),e("div",{staticClass:"clear h130px"}),t._v(" "),e("div",{staticClass:"wb100"},[e("p",{staticClass:"F16 lh40px"},[t._v("恭喜您抽中")]),t._v(" "),e("p",{staticClass:"lh20px Fyellow F20"},[t._v(t._s(t.data.name))]),t._v(" "),e("div",{staticClass:"clear h20px"}),t._v(" "),e("div",{staticClass:"wb45 fl warpper-yellow pa1 radius4 h40px lh40px Fbrown-3 text-center",on:{click:t.closeBuySuccess}},[t._v("\n          返回\n        ")]),t._v(" "),e("router-link",{attrs:{to:{name:"StoreOrderDetail",params:{ordernum:t.ordernum,bigtype:t.bigtype}}}},[e("div",{staticClass:"wb45 fr  radius4 h40px lh40px text-center Fwhite warpper-red"},[t._v("\n            查看详情\n          ")])])],1)])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"wb100 "},[s("div",{staticClass:"wb100 Fwhite h45px lh45px text-center warpper-gray-2"},[t._v("\n          暂无库存\n        ")])])}],r={render:e,staticRenderFns:i};a.a=r}});
//# sourceMappingURL=14.b8d573baa09a81044344.js.map