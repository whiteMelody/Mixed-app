webpackJsonp([31],{JeUc:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wb100"},[0==e.isWeiXin?a("div",{staticClass:"wb100"},[a("navTitle",{attrs:{title:"登录",back:!0}}),e._v(" "),a("div",{staticClass:"clear h30px"}),e._v(" "),a("div",{staticClass:"Fgray-3 wb100"},[a("div",{staticClass:"pal15 par15 pat5 pab5 relative F14 warpper-black-3"},[a("div",{staticStyle:{"padding-left":"60px","padding-right":"80px"}},[a("div",{staticClass:"w50px absolute F16 pa1 Fgray-6",staticStyle:{top:"5px",left:"15px",height:"45px","line-height":"45px"}},[e._v("\n            手机号\n          ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"bor-none wb100 h45px lh45px F16 warpper-none Fgray-5",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}}),e._v(" "),a("input",{staticClass:"bor-none h35px lh35px w80px radius5",class:11!=e.mobile.length||e.lock?"bor-gray6 bor-solid-1a Fgray-6 warpper-none":"warpper-orange-7 Fwhite pa1",staticStyle:{position:"absolute",top:"11px",right:"10px"},attrs:{type:"button","data-role":"none",disabled:11!=e.mobile.length||e.lock,value:e.codeText},on:{click:e.sendCode}})]),e._v(" "),a("div",{staticClass:"clear"})]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"pal15 par15 pat5 pab5 relative F14 warpper-black-3"},[a("div",{staticStyle:{"padding-left":"60px"}},[a("div",{staticClass:"w50px absolute F16 pa1 Fgray-6",staticStyle:{top:"5px",left:"15px",height:"45px","line-height":"45px"}},[e._v("\n            验证码\n          ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"bor-none wb100 h45px lh45px fl F16 warpper-none Fgray-5",attrs:{type:"tel",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"clear"})]),e._v(" "),a("div",{staticClass:"clear1"}),e._v(" "),a("div",{staticClass:"clear1"}),e._v(" "),a("div",{staticClass:"clear1"}),e._v(" "),a("div",{staticClass:"pa15"},[a("div",{staticClass:"wb100 h45px lh45px Fwhite F16 text-center radius5",class:e.mobile.length>0&&e.code.length>0?"warpper-orange-7 Fwhite pa1":"bor-gray6 bor-solid-1a Fgray-6",on:{click:e.login}},[e._v("确定")])]),e._v(" "),a("div",{staticClass:"clear1"})]),e._v(" "),a("div",{staticClass:"pa15 Fgray-3"})],1):a("div",{staticClass:"wb100"},[a("p",{staticClass:"code"})])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pal15 "},[a("div",{staticClass:"clear bor-black3 bor-solid-1b"})])}],l={render:i,staticRenderFns:s};t.a=l},S4n8:function(e,t,a){var i=a("wyGg");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("8bSs")("3eb060db",i,!0)},knKz:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a("3cXf"),l=i(s),o=a("1+AF"),r=i(o),n=a("Ra4H"),c=i(n),d=a("OuMC");i(d);t.default={data:function(){return{fullscreenLoading:!0,isLock:!1,mobile:"",code:"",call:"",codeText:"获取验证码",isWeiXin:!0,timeID:0,timer:60,lock:!1,favDisabled:!1}},methods:{sendCode:function(){var e=this;if(this.lock)return!1;this.lock=!0,c.default.loginCode(e.mobile,function(t){t&&(e.timeID=setInterval(e.clock,1e3))})},clock:function(){this.timer--,this.codeText=this.timer+"秒后重发",this.timer<=0&&(clearInterval(this.timeID),this.lock=!1,this.timer=60,this.codeText="重发验证码")},login:function(){var e=this;if(1==e.isLock)return!1;if(e.isLock=!0,!e.favDisabled){if(r.default.isNull(e.mobile))return e.$message({type:"error",message:"手机号不能为空",duration:1500}),e.favDisabled=!0,e.isLock=!0,setTimeout(function(){e.favDisabled=!1,e.isLock=!1},1500),!1;if(r.default.isNull(e.code))return e.$message({type:"error",message:"验证码不能为空",duration:1500}),e.favDisabled=!0,e.isLock=!0,setTimeout(function(){e.favDisabled=!1,e.isLock=!1},1500),!1;c.default.loginInPhone(e.mobile,e.code,"20171018001",function(t,a){if(t){var i=t.returnJSON;if(r.default.isNull(t.extendInfo)?r.default.setCookie("newsRedBag",null):r.default.setCookie("newsRedBag",(0,l.default)(t.extendInfo)),r.default.setCookie("userInfo",(0,l.default)(i)),r.default.isNull(e.call))e.$router.replace({name:"/"});else{var s=e.$route.params.callUrl;if(r.default.isNull(s))window.history.go(-1);else{var o=e.$route.params.money;i.coinsQty>o?(console.log("直接购买"),e.$router.replace({name:"/",params:{buyTicket:!0,money:o}})):e.$router.replace({name:s})}}}else e.$message({type:"error",message:a,duration:1500}),e.favDisabled=!0,e.isLock=!0,setTimeout(function(){e.favDisabled=!1,e.isLock=!1},1500)})}}},mounted:function(){var e=this;e.call=e.$route.params.call;var t=e.$route.params.callUrl;if(r.default.versions.isWeiXin){e.isWeiXin=!0;var a=(r.default.getParmar("code"),"https://mp.bombsport.com/beta/wxLogin.html");r.default.isNull(t)||(a=a+"?call="+t),window.location.href=a}else e.isWeiXin=!1}}},lmfZ:function(e,t,a){"use strict";function i(e){a("S4n8")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("knKz"),l=a.n(s),o=a("JeUc"),r=a("o7Pn"),n=i,c=r(l.a,o.a,n,null,null);t.default=c.exports},wyGg:function(e,t,a){t=e.exports=a("BkJT")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Login.vue",sourceRoot:""}])}});
//# sourceMappingURL=31.ce0a672935554d6d8b54.js.map