webpackJsonp([9],{"51Q0":function(e,t,a){e.exports=a.p+"static/img/buy-success.4bd6fcb.png"},PrUr:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYwRENEOEQ1OUNFNTExRTdCQzIwOUU5OTYwOUMzMzZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYwRENEOEQ2OUNFNTExRTdCQzIwOUU5OTYwOUMzMzZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjBEQ0Q4RDM5Q0U1MTFFN0JDMjA5RTk5NjA5QzMzNkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjBEQ0Q4RDQ5Q0U1MTFFN0JDMjA5RTk5NjA5QzMzNkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5hUhhNAAABW0lEQVR42pyUPUsDQRBAN2e0TaW1KFhbpFNQLIIoBEzEziZBLBWrVPoXbAQRtNNCwa8qWkgKg42FkEox2okgNgqCNuubYwgYze3gwmPuuHs7u7M3l7pt+ifnXANmhwbcuzOOCPYhBxd3D67XLJJlmbgGWagj91vElPc+vkBYIGzCM0wyYcMkqlwg7MEnTCNfJu2xNXjxULLp7TkT5U2iyjXCGLzBEXLJJKp8QxiBR9hGriTusX0g9BHOYBjWYYVJfVBUOUM4hnHYhRLyV1BUuUerXdQVFEyiyl2EDViEq8j9c6SN2X4tNTJIGX25qMXJU5yPKCDJcdS0onIc81LR+KEU5y/o00G4Bw+V9ufpDpnkwKsg/Vkmy06wOEiyrBPohhmk0+C3qm1V1dtcJ+mHqI18AK8wmtSLLRFplbAFTemKUPfHe0SSMi/BNUwhvVj/cnPS7TBhlWR8CzAAtg+fSmZ4CfQAAAAASUVORK5CYII="},cawL:function(e,t,a){"use strict";(function(e){function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("1+AF"),i=s(r),n=a("Ra4H"),l=s(n),o=a("OuMC");s(o);t.default={data:function(){return{fullscreenLoading:!0,login:!1,isLock:!1,isWeiXin:!1,payTitle:"",payOdds:0,money:0,orderID:0,radio:1,redBagRadio:-1,redBagMoney:0,rotateTimer:0,angle:0,redBagList:[],user:{photoUrl:"",coinsQty:0},showRedBag:!1,showBuySuccess:!1,showResult:!1,payHtml:"",title:"",odds:"",lotType:"",val:"",matchID:"",matchList:[],resultMoney:0,payment:0,payType:0,favDisabled:!1,unpaid:""}},methods:{getOdd:function(){for(var e=this,t=0,a={},s=0;s<e.matchList.length;s++)a=e.matchList[s],0==t?t=a.odds:t*=a.odds;return[e.twoDecimal(t),e.twoDecimal(t*e.money)]},getLotType:function(e){return 0==e?"胜平负":1==e?"让球胜平负":2==e?"比分":3==e?"总进球数":void 0},getLotValue:function(e,t){if(0==e||1==e){if(0==t)return"主胜";if(1==t)return"平";if(2==t)return"客胜"}else if(2==e){if(0==t)return"1:0";if(1==t)return"2:0";if(2==t)return"2:1";if(3==t)return"3:0";if(4==t)return"3:1";if(5==t)return"3:2";if(6==t)return"4:0";if(7==t)return"4:1";if(8==t)return"4:2";if(9==t)return"5:0";if(10==t)return"5:1";if(11==t)return"5:2";if(12==t)return"胜其它";if(13==t)return"0:0";if(14==t)return"1:1";if(15==t)return"2:2";if(16==t)return"3:3";if(17==t)return"平其它";if(18==t)return"0:1";if(19==t)return"0:2";if(20==t)return"1:2";if(21==t)return"0:3";if(22==t)return"1:3";if(23==t)return"2:3";if(24==t)return"0:4";if(25==t)return"1:4";if(26==t)return"2:4";if(27==t)return"0:5";if(28==t)return"1:5";if(29==t)return"2:5";if(30==t)return"负其它"}else if(3==e){if(0==t)return"进0球";if(1==t)return"进1球";if(2==t)return"进2球";if(3==t)return"进3球";if(4==t)return"进4球";if(5==t)return"进5球";if(6==t)return"进6球";if(7==t)return"进7+球"}},myClick:function(e){this.redBagRadio=e},closeBuyDialog:function(e){var t=this;0==e?t.$router.replace({name:"SoccerResult",params:{orderId:t.orderID}}):t.$router.replace({name:"Index"})},selectRedBag:function(e){1==e&&(this.redBagMoney=this.redBagList[this.redBagRadio].faceValue),0==e&&(this.redBagMoney=0,this.redBagRadio=-1),this.showRedBag=!1,this.payment=this.money-this.redBagMoney,this.resultMoney=this.money-this.user.coinsQty-this.redBagMoney},rotation:function(){var t=this;window.clearInterval(t.rotateTimer),t.rotateTimer=setInterval(function(){t.angle+=3,e(".rotater").rotate(t.angle)},50)},twoDecimal:function(e){var t=parseFloat(e);if(isNaN(t))return!1;var t=Math.round(100*e)/100,a=t.toString(),s=a.indexOf(".");for(s<0&&(s=a.length,a+=".");a.length<=s+2;)a+="0";return a},orderPay:function(){var e=this;if(1==e.isLock)return!1;if(e.isLock=!0,!e.favDisabled){if(0==e.login)return e.$router.push({name:"Login",params:{call:!0}}),!1;if(i.default.isNull(e.money))return e.$message({type:"error",message:"投注金额不合法",duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500),!1;if(isNaN(e.money))return e.$message({type:"error",message:"投注金额不合法",duration:1500}),e.favDisabled=!0,setTimeout(function(){e.favDisabled=!1},1500),!1;var t="";0==e.redBagMoney||(t=e.redBagList[e.redBagRadio].serialNumber),e.resultMoney>0?l.default.createMatchOrder(t,e.money,e.matchList,function(t,a){if(t)return l.default.wxJsPay(e.money,1,t.returnJSON.orderNo,function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(t.returnJSON),function(t){"get_brand_wcpay_request:ok"==t.err_msg?e.$router.replace({name:"PaySuccess"}):"get_brand_wcpay_request:cancel"==t.err_msg?(e.$message({type:"error",message:"支付取消",duration:1500}),e.isLock=!1):(e.$message({type:"error",message:"支付失败",duration:1500}),e.isLock=!1)})}),!1}):l.default.payMatch(t,e.money,e.matchList,function(t){if(t){e.showBuySuccess=!0,e.orderID=t.returnJSON.orderID;for(var a=0,s=0;s<e.matchList.length;s++)0==a?a=e.matchList[s].odds:a*=e.matchList[s].odds;e.odds=a,e.rotation()}else e.$message({type:"error",message:"购买失败",duration:3e3})})}}},mounted:function(){var e=this;e.showBuySuccess=!1;var t=i.default.getCookie("payMoney");if(e.money=t||0,e.fullscreenLoading=!1,e.uupaid=i.default.getCookie("unpaid"),i.default.isNull(e.uupaid))return e.$message({type:"error",message:"获取支付订单失败",duration:1500}),!1;e.matchList=JSON.parse(e.uupaid),console.log(e.matchList),l.default.userInfo(function(t){console.log(t),t?i.default.isNull(t.returnJSON)?e.login=!1:(e.login=!0,e.user=t.returnJSON,e.payment=e.money-e.redBagMoney,e.resultMoney=e.money-e.user.coinsQty-e.redBagMoney):e.login=!1}),l.default.usableCouponList(e.money,function(t){t&&(e.redBagList=t.returnJSON)})}}}).call(t,a("fu2u"))},"hJo+":function(e,t,a){var s=a("iqMC");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("8bSs")("26ee23a3",s,!0)},iqMC:function(e,t,a){t=e.exports=a("BkJT")(!0),t.push([e.i,".el-radio__input.is-checked .el-radio__inner{border-color:#ee542c;background:#ee542c}.el-radio__inner:hover,.el-radio__input.is-focus .el-radio__inner{border-color:#ee542c}","",{version:3,sources:["E:/bgsystem/baopu_node/src/views/Pay/WxPay.vue"],names:[],mappings:"AACA,6CAA6C,qBAAsB,kBAAoB,CACtF,AAGD,kEAA2C,oBAAsB,CAChE",file:"WxPay.vue",sourcesContent:["\n.el-radio__input.is-checked .el-radio__inner{border-color: #ee542c;background: #ee542c;\n}\n.el-radio__inner:hover{border-color: #ee542c;\n}\n.el-radio__input.is-focus .el-radio__inner{border-color: #ee542c;\n}\n\n"],sourceRoot:""}])},s1Su:function(e,t,a){"use strict";function s(e){a("hJo+")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("cawL"),i=a.n(r),n=a("uh3K"),l=a("o7Pn"),o=s,c=l(i.a,n.a,o,null,null);t.default=c.exports},ufMb:function(e,t,a){e.exports=a.p+"static/img/buy-success-shadow.284ffe1.png"},uh3K:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"warpper-black-4",attrs:{id:"pay_page"}},[s("loader",{attrs:{show:e.fullscreenLoading}}),e._v(" "),s("navTitle",{attrs:{title:"支付",back:!0}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showBuySuccess,expression:"showBuySuccess == true"}],staticClass:"dialogBg",staticStyle:{"z-index":"99",background:"rgba(0,0,0,.7)"},on:{click:e.closeBuyDialog}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showBuySuccess,expression:"showBuySuccess == true"}],staticClass:"w270px h250px fixed Fwhite F16 text-center",staticStyle:{top:"0",right:"0",left:"0",bottom:"0",margin:"auto","z-index":"999"}},[s("img",{staticClass:"w130px absolute",staticStyle:{top:"0",left:"0",right:"0",margin:"0 auto","z-index":"9999",width:"134px"},attrs:{src:a("51Q0")}}),e._v(" "),s("img",{staticClass:"w270px rotater absolute",staticStyle:{top:"-77px",left:"-7px","z-index":"999"},attrs:{src:a("ufMb")}}),e._v(" "),s("div",{staticClass:"clear h130px"}),e._v(" "),s("div",{staticClass:"wb100"},[s("p",{staticClass:"F20 lh40px"},[e._v("竞猜成功")]),e._v(" "),s("p",{staticClass:"lh20px"},[e._v("预计收益"),s("span",{staticClass:"Fgreen Fnum"},[e._v(e._s(e.twoDecimal(e.money*e.odds)))]),e._v("金币")]),e._v(" "),s("div",{staticClass:"clear h20px"}),e._v(" "),s("div",{staticClass:"wb45 fl bor-green2 bor-solid-1a radius4 h40px lh40px text-center Fgreen-2",on:{click:function(t){e.closeBuyDialog(0)}}},[e._v("\n        查看详情\n      ")]),e._v(" "),s("div",{staticClass:"wb45 fr warpper-green-1 pa1 radius4 h40px lh40px Fblack text-center",on:{click:function(t){e.closeBuyDialog(1)}}},[e._v("\n        继续竞猜\n      ")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showRedBag,expression:"showRedBag == true"}],staticClass:"wb100 Fgray-5"},[e._l(e.redBagList,function(t,a){return[s("div",{staticClass:"clear1"}),e._v(" "),s("div",{staticClass:"pa15 relative warpper-black-3"},[s("div",{staticClass:"w80px h50px warpper-orange-7 fl text-center Fwhite pat10 pab10 lh25px F14 radius5"},[s("p",{staticClass:"lh25px"},[s("span",{staticClass:"Fnum F24"},[e._v(e._s(t.faceValue))]),e._v("金币")]),e._v(" "),s("p",{staticClass:"F12 lh15px"},[e._v("满"),s("span",{staticClass:"Fnum"},[e._v(e._s(t.limit))]),e._v("可用")])]),e._v(" "),s("div",{staticClass:"w180px fl lh30px pat10 pal10",staticStyle:{width:"170px"}},[s("p",{staticClass:"F18 lh25px"},[e._v("红包")]),e._v(" "),s("p",{staticClass:"F12 Fgray-6"},[e._v("有效期至"),s("span",{staticClass:"Fnum"},[e._v(e._s(t.endTime))])])]),e._v(" "),s("div",{staticClass:"w30px h30px fr mat20",on:{click:function(t){e.myClick(a)}}},[s("el-radio",{staticClass:"radio",attrs:{label:a},model:{value:e.redBagRadio,callback:function(t){e.redBagRadio=t},expression:"redBagRadio"}},[e._v(" ")])],1),e._v(" "),s("div",{staticClass:"clear"})]),e._v(" "),s("div",{staticClass:"clear"})]}),e._v(" "),s("div",{staticClass:"clear h80px"}),e._v(" "),s("div",{staticClass:"wb100 fixed",staticStyle:{bottom:"15px"}},[s("div",{staticClass:"pa15"},[s("div",{staticClass:"wb45 fl warpper-orange-7 Fwhite pa1 h45px lh45px text-center radius5",on:{click:function(t){e.selectRedBag(1)}}},[e._v("\n          确定\n        ")]),e._v(" "),s("div",{staticClass:"wb45 fr bor-gray bor-solid-1a Fgray-3 h45px lh45px text-center radius5 warpper-white",on:{click:function(t){e.selectRedBag(0)}}},[e._v("\n          取消\n        ")])])])],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.showRedBag,expression:"showRedBag == false"}],staticClass:"wb100"},[s("div",{staticClass:"wb100"},[s("div",{staticClass:"pa15 lh25px Fgray-5 warpper-black-3"},[1==e.matchList.length?[s("p",{staticClass:"lh35px h35px"},[s("span",{staticClass:"fl warpper-black-5 pal10 par10 h25px lh25px mat5 mar10 radius4"},[e._v("单关")]),e._v(" "),s("span",{staticClass:"fl F18"},[e._v(e._s(e.matchList[0].matchName))])]),e._v(" "),s("p",{staticClass:"F14"},[e._v("\n            "+e._s(e.getLotType(e.matchList[0].lotType))+"，"+e._s(e.getLotValue(e.matchList[0].lotType,e.matchList[0].anteValue))+"，\n            预计赢得"),s("span",{staticClass:"Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.money*e.matchList[0].odds)))]),e._v("金币\n          ")])]:[s("p",{staticClass:"lh35px h35px relative text-over-hidden1",staticStyle:{"padding-left":"65px"}},[s("span",{staticClass:"fl warpper-red-8 pal10 par10 h25px lh25px mat5 mar10 radius4 absolute",staticStyle:{top:"0",left:"0"}},[e._v(e._s(e.matchList.length)+"串1")]),e._v(" "),e._l(e.matchList,function(t){return[e._v(e._s(t.matchName)+" ")]})],2),e._v(" "),s("p",{staticClass:"F14"},[e._v("\n            普通串关，预计赢得"),s("span",{staticClass:"Fnum Forange-2"},[e._v(e._s(e.getOdd()[1]))]),e._v("金币\n          ")])]],2),e._v(" "),s("div",{staticClass:"clear1"}),e._v(" "),s("div",{staticClass:"pal15 Fgray-6 warpper-black-3 lh45px"},[s("p",{staticClass:"par15 h45px"},[s("span",{staticClass:"fl"},[e._v("订单金额")]),e._v(" "),s("span",{staticClass:"fr Fnum Fgray-5"},[e._v(e._s(e.money)+"金币")])]),e._v(" "),s("div",{staticClass:"clear bor-black3 bor-solid-1b"}),e._v(" "),s("p",{staticClass:"par15 h45px"},[s("span",{staticClass:"fl"},[e._v("余额抵扣")]),e._v(" "),e.resultMoney>=0?[s("span",{staticClass:"fr Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.user.coinsQty))+"金币")])]:e.resultMoney<0?[s("span",{staticClass:"fr Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.payment))+"金币")])]:e._e()],2),e._v(" "),s("div",{staticClass:"clear bor-black3 bor-solid-1b"}),e._v(" "),0==e.redBagList.length?[e._m(0)]:[s("p",{staticClass:"par15 h45px",on:{click:function(t){e.showRedBag=!0}}},[s("span",{staticClass:"fl"},[e._v("红包")]),e._v(" "),0==e.redBagMoney?[s("span",{staticClass:"fr Fgray-2"},[e._v(e._s(e.redBagList.length)+"个可用红包 "),s("img",{staticClass:"fr h14px mal5",staticStyle:{"margin-top":"16px"},attrs:{src:a("PrUr")}})])]:e._e(),e._v(" "),0!=e.redBagMoney?[s("span",{staticClass:"fr Fnum Fred"},[e._v(e._s(e.redBagMoney)+"金币"),s("img",{staticClass:"fr h14px mal5 mat15",attrs:{src:a("PrUr")}})])]:e._e()],2)],e._v(" "),s("div",{staticClass:"clear bor-black3 bor-solid-1b"})],2),e._v(" "),s("div",{staticClass:"clear1"}),e._v(" "),s("div",{staticClass:"pal15 par15 lh45px h45px Fgray-5 warpper-black-3"},[s("span",{staticClass:"fl"},[e._v("应付")]),e._v(" "),e.resultMoney>0?[s("span",{staticClass:"fr Fnum Forange-2"},[e._v(e._s(e.twoDecimal(e.resultMoney))+"元 = "+e._s(e.twoDecimal(e.resultMoney))+"金币")])]:[s("span",{staticClass:"fr Fnum Forange-2"},[e._v("0 金币")])]],2)]),e._v(" "),s("div",{staticClass:"clear1"}),e._v(" "),s("div",{staticClass:"pa15"},[s("div",{staticClass:"wb100 warpper-orange-7 Fwhite h45px lh45px text-center radius5 F16",on:{click:function(t){e.orderPay()}}},[e._v("\n        微信支付\n      ")])])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"par15 h45px"},[a("span",{staticClass:"fl"},[e._v("红包")]),e._v(" "),a("span",{staticClass:"fr Fgray-5"},[e._v("暂无可用")])])}],i={render:s,staticRenderFns:r};t.a=i}});
//# sourceMappingURL=9.7f5e915d51efa00c2f7f.js.map